{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\live-code-editor\\\\client\\\\src\\\\pages\\\\ProxyPlayground.js\",\n    _s = $RefreshSig$();\n\nimport '../styles/playgroundPage.css';\nimport { useEffect, useState } from \"react\";\nimport ChangeableTitle from '../components/ChangeableTitle';\nimport { NavLink } from 'react-router-dom';\nimport CodeMirror from \"@uiw/react-codemirror\";\nimport { optionList } from \"../components/CodeEditorImports\";\nimport axios from 'axios';\nimport qs from 'qs';\nimport ResizableBox from '../components/ResizableBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProxyPlayground = props => {\n  _s();\n\n  const [theme, setTheme] = useState(\"dark\");\n  const [language, setlanguage] = useState(\"javascript\");\n  const [code, setCode] = useState(\"Hello World!\");\n  const [projectName, setProjectName] = useState(\"Untitled-1\");\n  const [output, setOutput] = useState({\n    time: \"\",\n    output: \"Output will be displayed here...\"\n  });\n  const [input, setInput] = useState(\"\");\n  useEffect(() => {\n    let proxyProject = localStorage.getItem(\"proxyProject\");\n\n    if (proxyProject) {\n      const {\n        theme,\n        language,\n        code,\n        projectName\n      } = JSON.parse(proxyProject);\n      setTheme(theme);\n      setlanguage(language);\n      setCode(code);\n      setProjectName(projectName);\n      console.log(proxyProject);\n    }\n  }, []);\n  useEffect(() => {\n    let project = {\n      theme,\n      language,\n      code,\n      projectName\n    };\n    localStorage.setItem(\"proxyProject\", JSON.stringify(project));\n  }, [theme, language, code, projectName]);\n\n  function parentProjectName(newName) {\n    setProjectName(newName);\n  }\n\n  const selectTheme = e => {\n    setTheme(e.target.value);\n  };\n\n  const selectLanguage = e => {\n    setlanguage(e.target.value);\n  };\n\n  function handleInput(e) {\n    setInput(e.target.value);\n  }\n\n  function handleCodeChange(e) {\n    console.log(e.target.value);\n  }\n\n  function handleFontSize(e) {\n    if (e.target.value > 50 || e.target.value < 10) {\n      e.target.value = 25;\n      return;\n    }\n\n    let editor = document.getElementById(\"code-editor-div\");\n    editor.style.fontSize = e.target.value + \"px\";\n  }\n\n  function handleCompile() {\n    if (code.trim().length === 0) {\n      setOutput({\n        time: \"0.00\",\n        output: \"No output\"\n      });\n      return;\n    } // setMessageBox(res.data, \"lightgreen\");\n\n\n    setOutput({\n      time: \"\",\n      output: \"Compiling...\"\n    });\n    const data = {\n      project: {\n        text: code,\n        language: language\n      },\n      input: input\n    };\n    const options = {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/x-www-form-urlencoded'\n      },\n      data: qs.stringify(data),\n      url: \"/compile-project/\"\n    };\n    axios(options).then(result => {\n      setOutput(result.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"playgroundPage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"playground-page-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        id: \"playground-navbar\",\n        children: [/*#__PURE__*/_jsxDEV(ChangeableTitle, {\n          title: projectName,\n          currentUserName: \"Proxy user\",\n          parentProjectName: parentProjectName,\n          projectId: \"Proxy project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          defaultValue: \"dark\",\n          onChange: selectTheme,\n          className: \"lang-select editor-options\",\n          children: optionList.themes.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n            children: el\n          }, el, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          defaultValue: \"javascript\",\n          onChange: selectLanguage,\n          className: \"lang-select editor-options\",\n          children: Object.keys(optionList.languages).map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n            children: el\n          }, el, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"run-btn\",\n          onClick: handleCompile,\n          children: \"\\u27A4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"font-size\",\n          id: \"font-size-label\",\n          children: \"Font-size:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"font-size\",\n          id: \"editor-font-size-input\",\n          onBlur: handleFontSize,\n          size: \"\",\n          defaultValue: 25,\n          min: \"10\",\n          max: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: 'data:text/plain;charset=utf-8,' + encodeURIComponent(code),\n          download: projectName + \".\" + optionList.languages[language].fileExtension,\n          id: \"buttonDownload\",\n          children: \"\\u2B73\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/login\",\n          state: {\n            path: \"/playground\"\n          },\n          id: \"playground-sign-in-btn\",\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/\",\n          id: \"proxy-playground-homepage-button\",\n          children: \"Home Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"playground-main\",\n        children: [/*#__PURE__*/_jsxDEV(ResizableBox, {\n          props: {\n            right: true\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"code-editor-div\",\n            children: /*#__PURE__*/_jsxDEV(CodeMirror, {\n              value: code,\n              theme: theme,\n              height: \"100vh\",\n              width: \"100%\",\n              extensions: [optionList.languages[language].extension],\n              onChange: (value, viewUpdate) => {\n                setCode(value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"compiler-div\",\n          children: [/*#__PURE__*/_jsxDEV(ResizableBox, {\n            props: {\n              bottom: true\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"output-div\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: output.output\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                id: \"output-time-span\",\n                children: output.time !== \"\" && \"Compiled in: \" + output.time + \"s\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"compiler-input\",\n            id: \"compiler-input-area\",\n            placeholder: 'Enter your input here, for every different entry:\\ninput1\\ninput2\\ninput3',\n            spellcheck: \"false\",\n            value: input,\n            onChange: handleInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProxyPlayground, \"Qw7q3rvGiHVXgWdnNRBl81Q0mgU=\");\n\n_c = ProxyPlayground;\nexport default ProxyPlayground;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProxyPlayground\");","map":{"version":3,"sources":["C:/Users/pc/Desktop/live-code-editor/client/src/pages/ProxyPlayground.js"],"names":["useEffect","useState","ChangeableTitle","NavLink","CodeMirror","optionList","axios","qs","ResizableBox","ProxyPlayground","props","theme","setTheme","language","setlanguage","code","setCode","projectName","setProjectName","output","setOutput","time","input","setInput","proxyProject","localStorage","getItem","JSON","parse","console","log","project","setItem","stringify","parentProjectName","newName","selectTheme","e","target","value","selectLanguage","handleInput","handleCodeChange","handleFontSize","editor","document","getElementById","style","fontSize","handleCompile","trim","length","data","text","options","method","headers","url","then","result","catch","err","themes","map","el","Object","keys","languages","encodeURIComponent","fileExtension","path","right","extension","viewUpdate","bottom"],"mappings":"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","sourcesContent":["import '../styles/playgroundPage.css'\nimport { useEffect, useState } from \"react\";\nimport ChangeableTitle from '../components/ChangeableTitle';\nimport { NavLink } from 'react-router-dom';\n\nimport CodeMirror from \"@uiw/react-codemirror\";\nimport { optionList } from \"../components/CodeEditorImports\"\n\nimport axios from 'axios';\nimport qs from 'qs';\nimport ResizableBox from '../components/ResizableBox';\n\nconst ProxyPlayground = (props) => {\n    const [theme, setTheme] = useState(\"dark\");\n    const [language, setlanguage] = useState(\"javascript\");\n    const [code, setCode] = useState(\"Hello World!\");\n    const [projectName, setProjectName] = useState(\"Untitled-1\")\n    const [output, setOutput] = useState({ time: \"\", output: \"Output will be displayed here...\" });\n    const [input, setInput] = useState(\"\");\n\n    useEffect(() => {\n        let proxyProject = localStorage.getItem(\"proxyProject\");\n        if (proxyProject) {\n            const { theme, language, code, projectName } = JSON.parse(proxyProject);\n            setTheme(theme);\n            setlanguage(language);\n            setCode(code);\n            setProjectName(projectName);\n            console.log(proxyProject);\n        }\n\n    }, [])\n\n    useEffect(() => {\n        let project = { theme, language, code, projectName };\n        localStorage.setItem(\"proxyProject\", JSON.stringify(project));\n    }, [theme, language, code, projectName])\n\n    function parentProjectName(newName) {\n        setProjectName(newName);\n    }\n\n    const selectTheme = (e) => {\n        setTheme(e.target.value);\n    }\n\n    const selectLanguage = (e) => {\n        setlanguage(e.target.value);\n    }\n    function handleInput(e) {\n        setInput(e.target.value);\n    }\n\n    function handleCodeChange(e) {\n        console.log(e.target.value);\n    }\n\n    function handleFontSize(e) {\n        if (e.target.value > 50 || e.target.value < 10) {\n            e.target.value = 25;\n            return;\n        }\n        let editor = document.getElementById(\"code-editor-div\");\n        editor.style.fontSize = e.target.value + \"px\";\n    }\n\n    function handleCompile() {\n        if (code.trim().length === 0) {\n            setOutput({\n                time: \"0.00\", output: \"No output\"\n            });\n            return;\n        }\n        // setMessageBox(res.data, \"lightgreen\");\n        setOutput({\n            time: \"\", output: \"Compiling...\"\n        });\n        const data = { project: { text: code, language: language }, input: input };\n        const options = {\n            method: 'POST',\n            headers: { 'content-type': 'application/x-www-form-urlencoded' },\n            data: qs.stringify(data),\n            url: \"/compile-project/\"\n        };\n\n        axios(options)\n            .then(result => {\n                setOutput(result.data);\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n    return (\n        <div id=\"playgroundPage\">\n            <div id=\"playground-page-wrapper\">\n                <nav id=\"playground-navbar\">\n                    <ChangeableTitle title={projectName}\n                        currentUserName={\"Proxy user\"}\n                        parentProjectName={parentProjectName}\n                        projectId={\"Proxy project\"}\n                    />\n                    {<select defaultValue={\"dark\"} onChange={selectTheme} className=\"lang-select editor-options\">\n                        {optionList.themes.map(el =>\n                            <option key={el}>{el}</option>\n                        )}\n                    </select>}\n                    <select defaultValue={\"javascript\"} onChange={selectLanguage} className=\"lang-select editor-options\">\n                        {Object.keys(optionList.languages).map(el =>\n                            <option key={el}>{el}</option>\n                        )}\n                    </select>\n\n                    <button id=\"run-btn\" onClick={handleCompile} >➤</button>\n\n                    <label htmlFor=\"font-size\" id='font-size-label'>Font-size:</label>\n                    <input type=\"number\" name=\"font-size\" id=\"editor-font-size-input\"\n                        onBlur={handleFontSize} size=\"\" defaultValue={25} min=\"10\" max=\"50\" />\n\n\n                    <a href={'data:text/plain;charset=utf-8,' + encodeURIComponent(code)}\n                        download={projectName + \".\" + optionList.languages[language].fileExtension}\n                        id=\"buttonDownload\">⭳</a>\n\n                    <NavLink to=\"/login\"\n                        state={{ path: \"/playground\" }}\n                        id=\"playground-sign-in-btn\"\n                    >Sign in</NavLink>\n                    <NavLink to=\"/\" id=\"proxy-playground-homepage-button\">Home Page</NavLink>\n\n                </nav>\n                <div id=\"playground-main\">\n                    <ResizableBox props={{ right: true }}>\n                        <div id=\"code-editor-div\">\n                            <CodeMirror\n                                value={code}\n                                theme={theme}\n                                height=\"100vh\"\n                                width='100%'\n                                extensions={[optionList.languages[language].extension]}\n                                onChange={(value, viewUpdate) => {\n                                    setCode(value);\n                                }}\n                            />\n                        </div>\n                    </ResizableBox>\n\n                    <div id='compiler-div'>\n                        <ResizableBox props={{ bottom: true }}>\n\n                            <div id=\"output-div\">\n                                <p>{output.output}</p>\n                                <span id=\"output-time-span\">{output.time !== \"\" && \"Compiled in: \" + output.time + \"s\"}</span>\n                            </div>\n                        </ResizableBox>\n\n                        <textarea name=\"compiler-input\" id=\"compiler-input-area\"\n                            placeholder={'Enter your input here, for every different entry:\\ninput1\\ninput2\\ninput3'}\n                            spellcheck=\"false\" value={input} onChange={handleInput}></textarea>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n\n\nexport default ProxyPlayground;"]},"metadata":{},"sourceType":"module"}