{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\live-code-editor\\\\client\\\\src\\\\components\\\\DeleteProjectWindow.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport qs from 'qs';\nimport { useEffect } from 'react';\nimport { useMessageBox } from '../contexts/MessageBox';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DeleteProjectWindow = props => {\n  _s();\n\n  const {\n    showWindow\n  } = props;\n  const {\n    setMessageBox\n  } = useMessageBox();\n  useEffect(() => {\n    if (showWindow !== \"first\") {\n      let element = document.getElementById(\"delete-window-wrapper\");\n      element.style.display = \"flex\";\n      document.getElementById(\"delete-project-button\").disabled = true;\n      document.getElementById(\"delete-new-project-name\").value = \"\";\n    }\n  }, [showWindow]);\n\n  function handleOuterClick(e) {\n    if (e.target.id == \"delete-window-wrapper\") {\n      closeWindow();\n    }\n  }\n\n  function closeWindow() {\n    let element = document.getElementById(\"delete-window-wrapper\");\n    element.style.display = \"none\";\n  }\n\n  function handleDelete() {\n    const data = {\n      username: props.username,\n      projectName: props.projectName\n    };\n    const options = {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/x-www-form-urlencoded'\n      },\n      data: qs.stringify(data),\n      url: \"/delete-project\"\n    };\n    axios(options).then(res => {\n      setMessageBox(res.data, \"lightgreen\"); // To update project list\n\n      props.renderParent();\n      closeWindow();\n    }).catch(err => {\n      setMessageBox(err.response.data, \"red\");\n    });\n  }\n\n  const handleInput = e => {\n    if (props.projectName === e.target.value) {\n      document.getElementById(\"delete-project-button\").disabled = false;\n    } else {\n      document.getElementById(\"delete-project-button\").disabled = true;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"delete-window-wrapper\",\n    onClick: handleOuterClick,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"delete-project-window\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Delete Project\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"If you delete your project you can't recover it. It will be permanently deleted. Please write \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: props.projectName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 114\n        }, this), \" to delete your project.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"project-name\",\n        autoComplete: \"off\",\n        onChange: handleInput,\n        id: \"delete-new-project-name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"delete-window-button-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"delete-project-button\",\n          onClick: e => {\n            handleDelete(e, props.project);\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeWindow,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DeleteProjectWindow, \"X41lxcX8ymSaGf1jkYlXtcO6H+Y=\", false, function () {\n  return [useMessageBox];\n});\n\n_c = DeleteProjectWindow;\nexport default DeleteProjectWindow;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteProjectWindow\");","map":{"version":3,"sources":["C:/Users/pc/Desktop/live-code-editor/client/src/components/DeleteProjectWindow.js"],"names":["axios","qs","useEffect","useMessageBox","useNavigate","DeleteProjectWindow","props","showWindow","setMessageBox","element","document","getElementById","style","display","disabled","value","handleOuterClick","e","target","id","closeWindow","handleDelete","data","username","projectName","options","method","headers","stringify","url","then","res","renderParent","catch","err","response","handleInput","project"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport qs from 'qs';\r\nimport { useEffect } from 'react';\r\nimport { useMessageBox } from '../contexts/MessageBox';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst DeleteProjectWindow = (props) => {\r\n    const { showWindow } = props;\r\n    const { setMessageBox } = useMessageBox();\r\n\r\n    useEffect(() => {\r\n        if (showWindow !== \"first\") {\r\n            let element = document.getElementById(\"delete-window-wrapper\");\r\n            element.style.display = \"flex\";\r\n            document.getElementById(\"delete-project-button\").disabled = true;\r\n            document.getElementById(\"delete-new-project-name\").value = \"\";\r\n        }\r\n    }, [showWindow]);\r\n\r\n    function handleOuterClick(e) {\r\n        if (e.target.id == \"delete-window-wrapper\") {\r\n            closeWindow();\r\n        }\r\n    }\r\n\r\n    function closeWindow() {\r\n        let element = document.getElementById(\"delete-window-wrapper\");\r\n        element.style.display = \"none\";\r\n    }\r\n\r\n    function handleDelete() {\r\n        const data = { username: props.username, projectName: props.projectName };\r\n        const options = {\r\n            method: 'DELETE',\r\n            headers: { 'content-type': 'application/x-www-form-urlencoded' },\r\n            data: qs.stringify(data),\r\n            url: \"/delete-project\"\r\n        };\r\n        axios(options).then(\r\n            res => {\r\n                setMessageBox(res.data, \"lightgreen\");\r\n                // To update project list\r\n                props.renderParent();\r\n                closeWindow();\r\n            }).\r\n            catch(err => {\r\n                setMessageBox(err.response.data, \"red\");\r\n            });\r\n    }\r\n\r\n    const handleInput = (e) => {\r\n        if (props.projectName === e.target.value) {\r\n            document.getElementById(\"delete-project-button\").disabled = false;\r\n        } else {\r\n            document.getElementById(\"delete-project-button\").disabled = true;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div id=\"delete-window-wrapper\" onClick={handleOuterClick}>\r\n            <div id=\"delete-project-window\">\r\n                <h1>Delete Project</h1>\r\n                <p>If you delete your project you can't recover it. It will be permanently deleted. Please write <strong>{props.projectName}</strong> to delete your project.</p>\r\n                <input type=\"text\" name=\"project-name\" autoComplete='off'\r\n                    onChange={handleInput} id=\"delete-new-project-name\" />\r\n                <div id=\"delete-window-button-div\">\r\n                    <button id=\"delete-project-button\" onClick={(e) => { handleDelete(e, props.project) }}>Delete</button>\r\n                    <button onClick={closeWindow}>Cancel</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeleteProjectWindow;"]},"metadata":{},"sourceType":"module"}